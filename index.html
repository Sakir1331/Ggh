<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>صقر - الذكاء الاصطناعي المتطور</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        :root {
            --primary-color: #3B82F6;
            --secondary-color: #10B981;
            --bg-light: #F3F4F6;
            --text-dark: #1F2937;
        }
        
        body {
            font-family: 'Cairo', sans-serif;
            background: linear-gradient(135deg, var(--bg-light) 0%, #E5E7EB 100%);
        }
        
        #chat-container {
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
            transition: all 0.3s ease;
        }
        
        .message-ai {
            background: linear-gradient(to right, #4ECDC4, #45B7D1);
            color: white;
        }
        
        .message-user {
            background: linear-gradient(to left, #3B82F6, #2563EB);
            color: white;
        }
        
        #typing-indicator {
            display: none;
        }
    </style>
</head>
<body class="min-h-screen flex items-center justify-center p-4">
    <div id="app" class="w-full max-w-md md:max-w-xl lg:max-w-2xl">
        <!-- الواجهة الرئيسية للدردشة -->
        <div id="chat-container" class="bg-white rounded-2xl overflow-hidden shadow-2xl">
            <!-- شريط العنوان -->
            <div class="bg-gradient-to-r from-blue-600 to-blue-400 text-white p-4 flex justify-between items-center">
                <div class="flex items-center">
                    <img src="/api/placeholder/50/50" class="rounded-full ml-3" alt="شعار صقر">
                    <h1 class="font-bold text-xl">صقر الذكاء الاصطناعي</h1>
                </div>
                <div class="flex space-x-2">
                    <button onclick="toggleMode()" class="hover:bg-blue-500 p-2 rounded-full">
                        <i class="fas fa-adjust"></i>
                    </button>
                    <button onclick="clearChat()" class="hover:bg-blue-500 p-2 rounded-full">
                        <i class="fas fa-trash"></i>
                    </button>
                </div>
            </div>

            <!-- منطقة الرسائل -->
            <div id="chat-messages" class="h-96 overflow-y-auto p-4 space-y-4 bg-gray-50">
                <div id="typing-indicator" class="text-center text-gray-500">
                    صقر يكتب...
                </div>
            </div>

            <!-- شريط الإدخال -->
            <div class="p-4 border-t bg-white flex items-center space-x-2">
                <button onclick="uploadFile()" class="text-gray-500 hover:text-blue-600">
                    <i class="fas fa-paperclip"></i>
                </button>
                <input type="file" id="file-upload" class="hidden" accept="image/*,application/pdf,.doc,.docx">
                <input 
                    type="text" 
                    id="user-input" 
                    placeholder="اكتب رسالتك هنا..." 
                    class="flex-grow p-2 rounded-full border focus:outline-none focus:ring-2 focus:ring-blue-500"
                >
                <button onclick="recordAudio()" class="text-gray-500 hover:text-blue-600">
                    <i class="fas fa-microphone"></i>
                </button>
                <button onclick="sendMessage()" class="bg-blue-500 text-white p-2 rounded-full">
                    <i class="fas fa-paper-plane"></i>
                </button>
            </div>
        </div>

        <!-- قائمة المهام الذكية -->
        <div id="smart-suggestions" class="mt-4 grid grid-cols-3 gap-2">
            <button onclick="suggestTask('ترجمة')" class="bg-green-100 p-2 rounded-lg">
                <i class="fas fa-language"></i> ترجمة
            </button>
            <button onclick="suggestTask('كتابة')" class="bg-blue-100 p-2 rounded-lg">
                <i class="fas fa-pen"></i> كتابة
            </button>
            <button onclick="suggestTask('تحليل')" class="bg-purple-100 p-2 rounded-lg">
                <i class="fas fa-chart-pie"></i> تحليل
            </button>
        </div>
    </div>

    <script>
        // حالة التطبيق
        let isDarkMode = false;
        let conversationHistory = [];

        // دوال متقدمة
        function toggleMode() {
            isDarkMode = !isDarkMode;
            document.body.classList.toggle('dark', isDarkMode);
            document.getElementById('chat-container').classList.toggle('bg-gray-900', isDarkMode);
        }

        function clearChat() {
            const messagesContainer = document.getElementById('chat-messages');
            messagesContainer.innerHTML = '';
            conversationHistory = [];
        }

        function uploadFile() {
            document.getElementById('file-upload').click();
        }

        function recordAudio() {
            alert('تسجيل صوتي - قيد التطوير');
        }

        function suggestTask(task) {
            const suggestions = {
                'ترجمة': 'هل تريد ترجمة نص أو محادثة؟',
                'كتابة': 'بإمكاني المساعدة في كتابة مقال أو رسالة',
                'تحليل': 'يمكنني تحليل البيانات والنصوص بدقة'
            };
            addMessage('ai', suggestions[task], true);
        }

        function addMessage(sender, message, isAI = false) {
            const messagesContainer = document.getElementById('chat-messages');
            const messageDiv = document.createElement('div');
            messageDiv.classList.add('flex', 'items-end', 'space-x-2');
            
            if (isAI) {
                messageDiv.innerHTML = `
                    <img src="/api/placeholder/40/40" class="rounded-full" alt="AI">
                    <div class="message-ai p-3 rounded-lg max-w-[80%] text-right">
                        ${message}
                    </div>
                `;
            } else {
                messageDiv.innerHTML = `
                    <div class="message-user p-3 rounded-lg max-w-[80%] mr-auto text-right">
                        ${message}
                    </div>
                `;
            }
            
            messagesContainer.appendChild(messageDiv);
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
            
            // تخزين محفوظات المحادثة
            conversationHistory.push({
                sender: sender,
                message: message,
                timestamp: new Date().toISOString()
            });
        }

        function showTypingIndicator() {
            const indicator = document.getElementById('typing-indicator');
            indicator.style.display = 'block';
            setTimeout(() => {
                indicator.style.display = 'none';
            }, 2000);
        }

        async function sendMessage() {
            const input = document.getElementById('user-input');
            const message = input.value.trim();
            
            if (!message) return;

            addMessage('user', message);
            input.value = '';
            
            showTypingIndicator();

            // محاكاة استجابة الذكاء الاصطناعي
            setTimeout(() => {
                const aiResponses = [
                    'كيف يمكنني مساعدتك؟',
                    'هذا سؤال رائع!',
                    'دعني أفكر في الأمر...',
                    'أنا هنا للمساعدة'
                ];
                const randomResponse = aiResponses[Math.floor(Math.random() * aiResponses.length)];
                addMessage('ai', randomResponse, true);
            }, 1500);
        }

        // الاستماع لحدث إدخال المفتاح إنتر
        document.getElementById('user-input').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                sendMessage();
            }
        });
    </script>
</body>
</html>
